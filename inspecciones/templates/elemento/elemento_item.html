<!-- elemento_item.html -->
<li class="list-group-item">
    <div class="d-flex justify-content-between align-items-center">
        <div>
            <h5 class="mb-0">{{ elemento.nombre }}</h5>
            <p class="mb-0">{{ elemento.descripcion }}</p>
        </div>
        <div>
            
            <a href="{% url 'elemento_create' elemento_id=elemento.id %}" class="btn btn-success btn-sm">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16">
                    <path d="M8 0A8 8 0 1 0 8 16A8 8 0 0 0 8 0Zm1 12a1 1 0 0 1-2 0V9H5a1 1 0 1 1 0-2h2V5a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2H9v3Z"/>
                </svg>
            </a>            
            <a href="{% url 'elemento_update' elemento_id=elemento.id %}" class="btn btn-warning btn-sm">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                    <path d="M13.646 0.354a2 2 0 0 1 0 2.828l-10 10a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.828 0zM12.854 1.146l2 2L4 14H2v-2l9.854-9.854z"/>
                </svg>
            </a>
            <a href="{%url 'atributo_create' elemento_id=elemento.id %}" class="btn btn-primary btn-sm">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-fill" viewBox="0 0 16 16">
                    <path d="M9.868 1.034a6.5 6.5 0 0 1 3.096 1.847l1.22-.707a.5.5 0 0 1 .552.136l1.5 1.5a.5.5 0 0 1 .136.552l-.707 1.22a6.5 6.5 0 0 1 0 4.708l.707 1.22a.5.5 0 0 1-.136.552l-1.5 1.5a.5.5 0 0 1-.552.136l-1.22-.707a6.5 6.5 0 0 1-3.096 1.847l-.177 1.395a.5.5 0 0 1-.497.452l-1.8.09a.5.5 0 0 1-.5-.45l-.166-1.4A6.5 6.5 0 0 1 4.88 13.49l-1.22.707a.5.5 0 0 1-.552-.136l-1.5-1.5a.5.5 0 0 1-.136-.552l.707-1.22a6.5 6.5 0 0 1 0-4.708l-.707-1.22a.5.5 0 0 1 .136-.552l1.5-1.5a.5.5 0 0 1 .552-.136l1.22.707a6.5 6.5 0 0 1 3.096-1.847l.177-1.395a.5.5 0 0 1 .497-.452l1.8-.09a.5.5 0 0 1 .5.45l.166 1.4zM8 10a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/>
                </svg>
            </a>
            <a href="{% url 'elemento_delete' elemento_id=elemento.id %}" width="16" height="16" class="btn btn-danger">
                <i class="bi bi-trash" width="16" height="16"></i>
            </a>
            
            <button class="btn btn-primary btn-sm toggle-details" data-target-atributos="atributos{{ elemento.id }}" data-target-hijos="hijos{{ elemento.id }}">+</button>
        </div>
    </div>
    <!-- Lista de atributos asociados al elemento -->
    <ul class="list-group mt-3 collapse" id="atributos{{ elemento.id }}">
        {% for atributo in elemento.atributos.all|dictsort:"nombre" %}
            <li class="list-group-item">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="mb-0">{{ atributo.nombre }}</h6>
                        <p class="mb-0">{{ atributo.descripcion }}</p>
                        <p class="mb-0">Tag: {{ atributo.tag }}</p>
                    </div>
                    <div>
                        <a href="{% url 'atributo_update' atributo_id=atributo.id %}" class="btn btn-success btn-sm">Editar</a>
                        <a href="{% url 'atributo_delete' atributo_id=atributo.id %}" width="16" height="16" class="btn btn-danger">
                            <i class="bi bi-trash" width="16" height="16"></i>
                        </a>
                        <!-- Agregar acciones adicionales para atributos si es necesario -->
                    </div>
                </div>
            </li>
        {% endfor %}
    </ul>
    <!-- Lista de elementos hijos asociados al elemento -->
    <ul class="list-group mt-3 collapse" id="hijos{{ elemento.id }}">
        {% for hijo in elemento.elementos_hijos.all|dictsort:"nombre" %} {# ordena por nombre el ciclo for antes de recorrer#}
            {% include 'elemento/elemento_item.html' with elemento=hijo %} {# Incluir el template para mostrar el hijo recursivamente #}
        {% endfor %}
    </ul>
</li>
